---
aliases:
- /2018/12/25/prisoners-switch
categories: 
 - riddle
date: '2018-12-25'
difficulty: 3
layout: post
published: true
title: Prisoner's switch

---

The warden meets with 23 new prisoners when they arrive. He tells them, "You may meet today and plan a strategy. But after today, you will be in isolated cells and will have no communication with one another. 

"In the prison there is a switch room which contains two light switches labeled A and B, each of which can be in either the 'on' or the 'off' position. BOTH SWITCHES ARE IN THEIR OFF POSITIONS NOW.* The switches are not connected to anything. 

"After today, from time to time whenever I feel so inclined, I will select one prisoner at random and escort him to the switch room. This prisoner will select one of the two switches and reverse its position. He must move one, but only one of the switches. He can't move both but he can't move none either. Then he'll be led back to his cell."

"No one else will enter the switch room until I lead the next prisoner there, and he'll be instructed to do the same thing. I'm going to choose prisoners at random. I may choose the same guy three times in a row, or I may jump around and come back."

"But, given enough time, everyone will eventually visit the switch room as many times as everyone else. At any time any one of you may declare to me, 'We have all visited the switch room.' 

"If it is true, then you will all be set free. If it is false, and somebody has not yet visited the switch room, you will be fed to the alligators." 

*note - the only difference from Scenario B, the original position of the 2 switches are known.

<div markdown="1" class='answer-title' style="color: lightgrey">_Hover to show the answer._
</div>
<div class='answer-wrapper'>
<div markdown="1" class='answer' style="color: grey">

The strategy is the following:

They choose one prisoner that will be the counter. Let's name the two switches A and B. 
The counter is the only prisoner allowed to turn switch A off. 
When the other prisoner enter the room, if they have never done it, and if the switch A is off, they put it to ON. 
If they already put the A switch to ON or if they enter en the A switch is ON, they simply switch the B switch, in whatever position. 

The counter will be able to count the number of prisoner that have entered the room by counting the number of times he has to put the A switch to OFF. 

</div>
</div>

